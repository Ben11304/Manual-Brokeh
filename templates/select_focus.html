<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chọn điểm lấy nét</title>
    <style>
        img {
            max-width: 100%;
            height: auto;
        }
    </style>
    <script>
        function getCursorPosition(event) {
            const img = document.getElementById('image');
            const rect = img.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;

            const scaleX = img.naturalWidth / img.clientWidth;
            const scaleY = img.naturalHeight / img.clientHeight;

            const realX = Math.round(x * scaleX);
            const realY = Math.round(y * scaleY);

            document.getElementById('x').value = realX;
            document.getElementById('y').value = realY;

            document.getElementById('focusForm').submit();
        }
    </script>
</head>
<body>
    <h1>Nhấp vào điểm trên ảnh để chọn điểm lấy nét</h1>
    <form id="focusForm" method="post">
        <input type="hidden" id="x" name="x">
        <input type="hidden" id="y" name="y">
        <!-- Thêm các tham số điều chỉnh -->
        <label for="max_kernel_size">Max Kernel Size:</label>
        <input type="number" id="max_kernel_size" name="max_kernel_size" value="71" min="3" step="2">
        <br>
        <label for="num_levels">Num Levels:</label>
        <input type="number" id="num_levels" name="num_levels" value="5" min="1">
        <br><br>
    </form>
    <img id="image" src="{{ url_for('static', filename='uploads/' + uploaded_image) }}" onclick="getCursorPosition(event)">
</body>
</html>
